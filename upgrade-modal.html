<!-- Upgrade Modal Template -->
<div id="upgradeModal" class="upgrade-modal-overlay" style="display: none;">
  <div class="upgrade-modal">
    <!-- Close button -->
    <button class="modal-close" id="closeUpgradeModal" aria-label="Close">
      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M1 1l12 12M13 1L1 13"/>
      </svg>
    </button>

    <!-- Modal Content -->
    <div class="modal-content">
      <!-- Hero Section -->
      <div class="modal-hero">
        <div class="pro-badge">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
          </svg>
        </div>
        <h2 class="modal-title">Unlock Smart Bookmarks Pro</h2>
        <p class="modal-subtitle">Transform your browsing into productivity insights</p>
      </div>

      <!-- Value Proposition Cards -->
      <div class="value-cards">
        <div class="value-card">
          <div class="value-icon">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 1.5A1.5 1.5 0 008.5 3v1.074a7.024 7.024 0 00-1.459.4L6.5 3.414a1.5 1.5 0 00-2.121 0l-.708.707a1.5 1.5 0 000 2.122l.734.732c-.21.469-.37.963-.476 1.475H3a1.5 1.5 0 00-1.5 1.5v1a1.5 1.5 0 001.5 1.5h.93c.106.512.266 1.006.476 1.475l-.734.732a1.5 1.5 0 000 2.121l.708.708a1.5 1.5 0 002.121 0l.54-1.06c.47.163.96.294 1.459.4V17a1.5 1.5 0 001.5 1.5h1a1.5 1.5 0 001.5-1.5v-1.074c.499-.106.989-.237 1.459-.4l.541 1.06a1.5 1.5 0 002.121 0l.708-.708a1.5 1.5 0 000-2.121l-.734-.732c.21-.469.37-.963.476-1.475H17a1.5 1.5 0 001.5-1.5v-1A1.5 1.5 0 0017 8.5h-.93a7.024 7.024 0 00-.476-1.475l.734-.732a1.5 1.5 0 000-2.122l-.708-.707a1.5 1.5 0 00-2.121 0l-.54 1.06c-.47-.163-.96-.294-1.459-.4V3A1.5 1.5 0 0011 1.5h-1zM10 13a3 3 0 100-6 3 3 0 000 6z"/>
            </svg>
          </div>
          <div class="value-content">
            <h3>Unlimited Bookmarks</h3>
            <p>Currently limited to 100 bookmarks. Go unlimited with Pro.</p>
          </div>
        </div>

        <div class="value-card">
          <div class="value-icon">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 2a8 8 0 100 16 8 8 0 000-16zM8 7a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1zm0 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1zm0 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"/>
            </svg>
          </div>
          <div class="value-content">
            <h3>Time Tracking Analytics</h3>
            <p>Deep insights into your browsing patterns and productivity.</p>
          </div>
        </div>

        <div class="value-card">
          <div class="value-icon">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"/>
            </svg>
          </div>
          <div class="value-content">
            <h3>Smart Notifications</h3>
            <p>Productivity patterns and personalized break reminders.</p>
          </div>
        </div>

        <div class="value-card">
          <div class="value-icon">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
              <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 9a1 1 0 011-1h2a1 1 0 011 1v7a1 1 0 01-1 1H9a1 1 0 01-1-1V9zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
            </svg>
          </div>
          <div class="value-content">
            <h3>Analytics Dashboard</h3>
            <p>Detailed reports and insights about your focus sessions.</p>
          </div>
        </div>
      </div>

      <!-- Social Proof -->
      <div class="social-proof">
        <p class="proof-text">
          <span class="proof-icon">ðŸ’¡</span>
          Built for productivity enthusiasts by developers who understand focus
        </p>
      </div>

      <!-- Pricing Section -->
      <div class="pricing-section">
        <div class="price-tag">
          <span class="price">$7.99</span>
          <span class="period">/month</span>
        </div>
        <p class="pricing-note">Cancel anytime, no commitment</p>
      </div>

      <!-- CTA Buttons -->
      <div class="modal-actions">
        <button class="btn-primary" id="upgradeToProBtn">
          Upgrade to Pro
        </button>
        <button class="btn-secondary" id="continueWithFreeBtn">
          Continue with free plan
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Email Collection Modal -->
<div id="emailModal" class="upgrade-modal-overlay" style="display: none;">
  <div class="upgrade-modal email-modal">
    <button class="modal-close" id="closeEmailModal" aria-label="Close">
      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M1 1l12 12M13 1L1 13"/>
      </svg>
    </button>

    <div class="modal-content">
      <div class="modal-hero">
        <h2 class="modal-title">Almost there!</h2>
        <p class="modal-subtitle">Enter your email to activate Pro features</p>
      </div>

      <form id="emailForm" class="email-form">
        <div class="form-group">
          <label for="userEmail" class="form-label">Email address</label>
          <input 
            type="email" 
            id="userEmail" 
            class="form-input" 
            placeholder="you@example.com"
            required
            autocomplete="email"
          />
          <span class="form-error" id="emailError"></span>
        </div>

        <div class="form-info">
          <p>We'll send you:</p>
          <ul>
            <li>Pro activation confirmation</li>
            <li>Monthly productivity insights</li>
            <li>Tips to maximize your focus</li>
          </ul>
        </div>

        <button type="submit" class="btn-primary full-width" id="continueToPaymentBtn">
          Continue to secure payment
        </button>

        <p class="security-note">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
            <path d="M6 0a1 1 0 00-1 1v.5a4.5 4.5 0 00-1.5 8.416V11a1 1 0 002 0V9.916A4.5 4.5 0 007 1.5V1a1 1 0 00-1-1zm0 3a2.5 2.5 0 110 5 2.5 2.5 0 010-5z"/>
          </svg>
          Secured by Stripe â€¢ Your data is safe
        </p>
      </form>
    </div>
  </div>
</div>

<!-- Success Modal -->
<div id="successModal" class="upgrade-modal-overlay" style="display: none;">
  <div class="upgrade-modal success-modal">
    <div class="modal-content">
      <div class="success-animation">
        <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
          <circle cx="40" cy="40" r="38" stroke="currentColor" stroke-width="4" opacity="0.2"/>
          <circle cx="40" cy="40" r="38" stroke="currentColor" stroke-width="4" stroke-dasharray="240" stroke-dashoffset="240" class="success-circle"/>
          <path d="M28 40l8 8 16-16" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" opacity="0" class="success-check"/>
        </svg>
      </div>

      <div class="modal-hero">
        <h2 class="modal-title">Welcome to Smart Bookmarks Pro! ðŸŽ‰</h2>
        <p class="modal-subtitle">Your Pro features are now active</p>
      </div>

      <div class="success-features">
        <h3>What's new for you:</h3>
        <ul class="feature-list">
          <li>
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M13.854 3.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3.5-3.5a.5.5 0 11.708-.708L6.5 10.293l6.646-6.647a.5.5 0 01.708 0z"/>
            </svg>
            Unlimited bookmarks unlocked
          </li>
          <li>
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M13.854 3.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3.5-3.5a.5.5 0 11.708-.708L6.5 10.293l6.646-6.647a.5.5 0 01.708 0z"/>
            </svg>
            Analytics dashboard ready
          </li>
          <li>
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M13.854 3.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3.5-3.5a.5.5 0 11.708-.708L6.5 10.293l6.646-6.647a.5.5 0 01.708 0z"/>
            </svg>
            Smart notifications enabled
          </li>
        </ul>
      </div>

      <div class="modal-actions">
        <button class="btn-primary" id="viewAnalyticsBtn">
          View Analytics Dashboard
        </button>
        <button class="btn-secondary" id="closeSuccessBtn">
          Continue browsing
        </button>
      </div>
    </div>
  </div>
</div>